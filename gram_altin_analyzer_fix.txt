
# analyzers/gram_altin_analyzer.py - Line 287 civarı
# Daha agresif sinyal üretimi
if buy_signals > sell_signals and buy_signals >= total_weight * 0.15:  # %20'den %15'e
    signal = "BUY"
    # RSI < 35 ise confidence boost
    if rsi_value and rsi_value < 35:
        base_confidence = min(base_confidence * 1.3, 1.0)
    confidence = base_confidence
    
elif sell_signals > buy_signals and sell_signals >= total_weight * 0.25:  # %30'dan %25'e
    signal = "SELL"
    # RSI > 65 ise confidence boost
    if rsi_value and rsi_value > 65:
        base_confidence = min(base_confidence * 1.3, 1.0)
    confidence = base_confidence
    
# Eşit sinyal durumunda trend yönünde karar ver
elif buy_signals == sell_signals and buy_signals > 0:
    if trend == TrendType.BULLISH and rsi_value and rsi_value < 50:
        signal = "BUY"
        confidence = base_confidence * 0.8
    elif trend == TrendType.BEARISH and rsi_value and rsi_value > 50:
        signal = "SELL"
        confidence = base_confidence * 0.8
    else:
        signal = "HOLD"
