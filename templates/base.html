<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Dezy - Gold Price Analyzer{% endblock %}</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Modules -->
    <link rel="stylesheet" href="/static/css/main.css">
    
    {% block extra_head %}{% endblock %}
</head>
<body class="min-h-screen">
    <!-- Desktop Navigation -->
    <nav class="nav desktop-nav">
        <div class="nav__container">
            <!-- Logo Section -->
            <div class="nav__logo">
                <div class="nav__logo-wrapper">
                    <i class="fas fa-coins nav__logo-icon"></i>
                    <h1 class="nav__logo-text">Dezy</h1>
                </div>
            </div>
            
            <!-- Nav Links -->
            <div class="nav__links">
                <a href="/" class="nav__item">
                    <div class="nav__link">
                        <i class="fas fa-chart-line nav__icon"></i>
                        <span class="nav__text">Dashboard</span>
                    </div>
                    <div class="nav__underline"></div>
                </a>
                
                <a href="/analysis" class="nav__item">
                    <div class="nav__link">
                        <i class="fas fa-brain nav__icon"></i>
                        <span class="nav__text">Analizler</span>
                    </div>
                    <div class="nav__underline"></div>
                </a>
                
                <a href="/signals" class="nav__item">
                    <div class="nav__link">
                        <i class="fas fa-bell nav__icon"></i>
                        <span class="nav__text">Sinyaller</span>
                    </div>
                    <div class="nav__underline"></div>
                </a>
                
                <a href="/simulations" class="nav__item">
                    <div class="nav__link">
                        <i class="fas fa-robot nav__icon"></i>
                        <span class="nav__text">Simülasyon</span>
                    </div>
                    <div class="nav__underline"></div>
                </a>
                
                <a href="/logs" class="nav__item">
                    <div class="nav__link">
                        <i class="fas fa-file-lines nav__icon"></i>
                        <span class="nav__text">Loglar</span>
                    </div>
                    <div class="nav__underline"></div>
                </a>
                
                <a href="/api/docs" class="nav__item">
                    <div class="nav__link">
                        <i class="fas fa-code nav__icon"></i>
                        <span class="nav__text">API</span>
                    </div>
                    <div class="nav__underline"></div>
                </a>
                
                <!-- Live Status -->
                <div class="nav__status">
                    <div class="nav__status-dot"></div>
                    <span class="nav__status-text">Live</span>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Mobile Navigation Bar -->
    <nav class="mobile-nav__bar">
        <div class="mobile-nav__container">
            <button id="mobile-menu-btn" class="mobile-nav__toggle">
                <i class="fas fa-bars text-xl"></i>
            </button>
            
            <div class="nav__logo">
                <i class="fas fa-coins nav__logo-icon"></i>
                <span class="nav__logo-text">Dezy</span>
            </div>
            
            <div class="nav__status">
                <div class="nav__status-dot"></div>
                <span class="nav__status-text">Live</span>
            </div>
        </div>
    </nav>
    
    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" class="mobile-menu__overlay"></div>
    
    <!-- Mobile Menu -->
    <nav id="mobile-menu" class="mobile-menu">
        <div class="mobile-menu__container p-lg h-full d-flex flex-column">
            <!-- Header -->
            <div class="mobile-menu__header d-flex justify-between items-center mb-xl">
                <div class="nav__logo">
                    <i class="fas fa-coins nav__logo-icon text-2xl"></i>
                    <h2 class="nav__logo-text">Dezy</h2>
                </div>
                <button id="mobile-menu-close" class="mobile-nav__toggle">
                    <i class="fas fa-times text-xl text-muted"></i>
                </button>
            </div>
            
            <!-- Menu Items -->
            <div class="mobile-menu__body flex-1 overflow-y-auto">
                <div class="mobile-menu__links">
                    <a href="/" class="mobile-menu__item">
                        <i class="fas fa-chart-line nav__icon"></i>
                        <span class="mobile-menu__text">Dashboard</span>
                    </a>
                    <a href="/analysis" class="mobile-menu__item">
                        <i class="fas fa-brain nav__icon"></i>
                        <span class="mobile-menu__text">Analizler</span>
                    </a>
                    <a href="/signals" class="mobile-menu__item">
                        <i class="fas fa-bell nav__icon"></i>
                        <span class="mobile-menu__text">Sinyaller</span>
                    </a>
                    <a href="/simulations" class="mobile-menu__item">
                        <i class="fas fa-robot nav__icon"></i>
                        <span class="mobile-menu__text">Simülasyon</span>
                    </a>
                    <a href="/logs" class="mobile-menu__item">
                        <i class="fas fa-file-lines nav__icon"></i>
                        <span class="mobile-menu__text">Loglar</span>
                    </a>
                    <a href="/api/docs" class="mobile-menu__item">
                        <i class="fas fa-code nav__icon"></i>
                        <span class="mobile-menu__text">API Dokümantasyon</span>
                    </a>
                </div>
                
                <!-- Live Status -->
                <div class="mobile-menu__status mt-xl">
                    <div class="d-flex justify-between items-center mb-md">
                        <span class="text-sm text-muted">Sistem Durumu</span>
                        <div class="d-flex items-center gap-sm">
                            <div class="nav__status-dot"></div>
                            <span class="text-xs text-success">Aktif</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            <div class="mobile-menu__footer mt-md pt-md border-top">
                <p class="text-xs text-muted text-center">
                    Dezy © 2024
                </p>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="main-content">
        {% block content %}{% endblock %}
    </main>
    
    <!-- Footer -->
    <footer class="footer">
        <p>Dezy - Gold Price Analyzer © 2024 | Kuyumcu Yönetim Sistemi</p>
    </footer>
    
    <!-- Base Scripts -->
    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileMenuClose = document.getElementById('mobile-menu-close');
        
        function openMobileMenu() {
            mobileMenu.classList.add('active');
            mobileMenuOverlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        
        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            mobileMenuOverlay.classList.add('hidden');
            document.body.style.overflow = '';
        }
        
        mobileMenuBtn?.addEventListener('click', openMobileMenu);
        mobileMenuClose?.addEventListener('click', closeMobileMenu);
        mobileMenuOverlay?.addEventListener('click', closeMobileMenu);
        
        
        // Highlight active page
        function highlightActivePage() {
            const currentPath = window.location.pathname;
            const navItems = document.querySelectorAll('.nav__item');
            
            navItems.forEach(item => {
                const href = item.getAttribute('href');
                if (currentPath === href || (currentPath === '/' && href === '/')) {
                    item.classList.add('active');
                } else if (currentPath.startsWith(href) && href !== '/') {
                    item.classList.add('active');
                }
            });
            
            // Mobile menu active highlight
            const mobileLinks = document.querySelectorAll('.mobile-menu__item');
            mobileLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (currentPath === href || (currentPath === '/' && href === '/')) {
                    link.classList.add('active');
                } else if (currentPath.startsWith(href) && href !== '/') {
                    link.classList.add('active');
                }
            });
        }
        
        // Call on page load
        highlightActivePage();
    </script>
    
    {% block scripts %}{% endblock %}
</body>
</html>